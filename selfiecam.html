<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“¸ Selfie con Lau</title>
    <link rel="stylesheet" href="selfiecam.css">
</head>
<body>
    <!-- Loading overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <p>Guardando tu foto...</p>
        </div>
    </div>

    <div class="app-container">
        <div class="header">
            <h1>ğŸ“¸ Selfie de GraduaciÃ³n</h1>
            <p>Â¡CapturÃ¡ tu momento especial conmigo!</p>
        </div>

        <div class="camera-container">
            <video id="video" autoplay playsinline></video>
            <canvas id="canvas"></canvas>
            
            <div class="initial-state" id="initialState">
                <div class="icon">ğŸ“·</div>
                <p>PresionÃ¡ "Activar CÃ¡mara"</p>
            </div>

            <div class="frame-overlay">
                <div class="frame-border">
                    <div class="frame-inner"></div>
                </div>
                
                <div class="frame-title">
                    <h2>Â¡ME RECIBÃ!</h2>
                    <div class="year">2025</div>
                </div>

                <div class="emoji-decoration emoji-1">ğŸ“</div>
                <div class="emoji-decoration emoji-2">ğŸ¤–</div>
                <div class="emoji-decoration emoji-3">âœ¨</div>
                <div class="emoji-decoration emoji-4">ğŸ‰</div>

                <div class="frame-bottom">
                    <p style="font-size: medium;">ğŸ¯ Ciencias de Datos e IA<br>ğŸ’» Desarrollo Web y Aplicaciones Digitales</p>
                    <div class="hashtag">#AlFinMeRecibi</div>
                </div>
            </div>


            <div class="camera-controls">
                <div class="controls-row">
                    <button class="btn btn-camera" id="startBtn">
                        ğŸ¥ Activar CÃ¡mara
                    </button>
                    <button class="btn btn-switch" id="switchBtn" style="display:none;">
                        ğŸ”„ Cambiar
                    </button>
                </div>
                <div class="controls-row">
                    <button class="btn btn-stickers" id="stickersBtn" style="display:none;">
                        ğŸ˜Š 
                    </button>
                    <button class="btn btn-filters" id="filtersBtn" style="display:none;">
                        ğŸ¨ 
                    </button>
                </div>
                <button class="btn btn-capture" id="captureBtn" disabled>
                    ğŸ“¸ Tomar Foto
                </button>
            </div>
        </div>

        <div class="external-controls">
            <button class="btn btn-gallery" id="galleryBtn">
                ğŸ–¼ï¸ Ver GalerÃ­a
            </button>
        </div>

        <div class="success-message" id="successMessage">
            âœ… Â¡Foto guardada exitosamente! PodÃ©s verla en la galerÃ­a.
        </div>

        <div class="preview-container" id="previewContainer">
            <p class="preview-title">âœ¨ Tu foto con marco:</p>
            <img id="preview" alt="Preview">
            <div class="external-controls" style="margin-top: 20px;">
                <button class="btn btn-download" id="downloadBtn">
                    ğŸ’¾ Descargar Foto
                </button>
                <button class="btn btn-camera" id="newPhotoBtn">
                    ğŸ”„ Tomar Otra
                </button>
                <button class="btn btn-edit" id="editPhotoBtn" style="display:none;">
                    âœ¨ Retocar Fotos Guardadas
                </button>
            </div>
        </div>

        <div class="instructions">
            <h3>ğŸ“± CÃ³mo usar:</h3>
            <ol>
                <li><strong>ActivÃ¡ la cÃ¡mara:</strong> PresionÃ¡ el botÃ³n y permitÃƒ- el acceso a la cÃ¡mara</li>
                <li><strong>ElegÃ­ un filtro:</strong> TocÃ¡ el botÃ³n de filtros y seleccionÃ¡ tu favorito</li>
                <li><strong>AgregÃ¡ stickers:</strong> TocÃ¡ el botÃ³n de stickers y elegÃ­ los que quieras</li>
                <li><strong>Movelos y ajustalos:</strong> ArrastrÃ¡, rotÃ¡ y redimensionÃ¡ los stickers</li>
                <li><strong>Posicionate:</strong> AcomodÃ¡ tu rostro en el centro del marco</li>
                <li><strong>CapturÃ¡:</strong> PresionÃ¡ el botÃ³n de tomar foto cuando estÃ©s list@</li>
                <li><strong>RetocÃ¡ (opcional):</strong> UsÃ¡ el botÃ³n "Retocar" para mejorar la iluminaciÃ³n</li>
                <li><strong>DescargÃ¡:</strong> GuardÃ¡ tu foto con el marco, filtros y stickers incluidos</li>
                <li><strong>GalerÃ­a:</strong> Todas las fotos se guardan automÃ¡ticamente en la galerÃ­a</li>
            </ol>
        </div>
    </div>

    <!-- Panel de filtros -->
    <div class="filters-panel" id="filtersPanel">
        <div class="filters-header">
            <h3>ğŸ¨ Filtros</h3>
            <button class="close-filters" id="closeFilters">âœ•</button>
        </div>
        <div class="filters-grid" id="filtersGrid"></div>
    </div>

    <!-- Panel de stickers -->
    <div class="stickers-panel" id="stickersPanel">
        <div class="stickers-header">
            <h3>ğŸ¨ ElegÃ­ tus stickers</h3>
            <button class="close-stickers" id="closeStickers">âœ•</button>
        </div>
        <div class="stickers-grid" id="stickersGrid"></div>
        <button class="clear-stickers-btn" id="clearStickers">ğŸ—‘ï¸ Borrar Todos los Stickers</button>
    </div>

    <script src="selfiecam.js"></script>
</body>
</html>